<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>FCFW</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="image-container">
      <img src="" alt="Random Image" id="randomImage">
    </div>
  </div>
  <button id="shareButton">트위터에 공유</button>
  <a href="event.html">
    <button>back</button>
  </a>

  <script>
    // URL에서 이미지 번호 가져오기
    var params = new URLSearchParams(window.location.search);
    var imageNumber = params.get('image');

    // 이미지가 있는 경로 설정
    var imagePath = "image/random/" + imageNumber + ".png";

    // 이미지 요소에 경로 설정
    var randomImage = document.getElementById('randomImage');
    randomImage.src = imagePath;

    // 트위터 공유 버튼 클릭 이벤트 핸들러
    document.getElementById('shareButton').addEventListener('click', function() {
      var shareUrl = 'https://twitter.com/intent/tweet';
            var tweetText = 'Check out this random image!';
            var hashtags = 'FCFW,RandomImage'; // 원하는 해시태그 추가

            // 트윗에 이미지를 첨부하기 위해 FormData를 사용하여 이미지 파일을 전송합니다.
            var formData = new FormData();
            formData.append('text', tweetText);
            formData.append('hashtags', hashtags);
            formData.append('media', randomImage.src);

            // 트윗 공유 URL에 FormData를 붙여서 새 창으로 열어줍니다.
            window.open(shareUrl + '?' + new URLSearchParams(formData), '_blank');
        });
</script>
</body>
</html>